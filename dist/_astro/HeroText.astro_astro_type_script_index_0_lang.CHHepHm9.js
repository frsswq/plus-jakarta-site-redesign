import{q as W}from"./q5.C6IueCek.js";import{o as G}from"./opentype.5w4iVXK_.js";import{g as O}from"./g.CmGZYvWv.js";import"./vendor.DRT6gzuD.js";window.addEventListener("animationComplete",()=>{const t=document.getElementById("subtitle");t&&(t.style.opacity="1")});const k=t=>{const l="+Jakarta Sans",B=n=>1-Math.pow(1-n,3);let d,T=[],m=!1,P=!1,I=!1,a,A,h;const H=-8,v=10,y=-20,C=()=>{const n=window.innerWidth>=1024;a=n?150:120,A=n?930:730,h=n?150:120},w=()=>{if(!d)return;const n=a/150,o=H*n,e=v*n,i=y*n;let r=0;for(let s=0;s<l.length;s++){const c=l[s];if(r+=d.getAdvanceWidth(c,a),s<l.length-1){const u=c==="r"&&l[s+1]==="t"?o+e:o;r+=u}}const f=h/2+d.ascender/d.unitsPerEm*a/2-a*.1;let _=(A-r)/2,N=f;const g=[];for(let s=0;s<l.length;s++){const c=l[s],u=c==="+"?N+i:N,S=d.getPath(c,_,u,a);let E=[];S.commands.forEach(p=>{p.type==="M"&&E.length>0&&(g.push(E),E=[]),E.push(p)}),g.push(E);const F=d.getAdvanceWidth(c,a),L=c==="r"&&l[s+1]==="t"?o+e:o;_+=F+L}T=g.map(s=>{const c=new O.Path(s);return O.resampleByLength(c,1).commands.map(S=>[S.x,S.y])})};t.setup=async()=>{t.noLoop(),C();const n=t.createCanvas(A,h);n.style.backgroundColor="transparent",t.background(0,0);try{const o=await fetch("/fonts/otf/PlusJakartaSans-Bold.otf").then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.arrayBuffer()});d=G.parse(o),P=!0,w(),I=!0,t.loop()}catch(o){console.error("Failed to initialize sketch:",o)}},t.windowResized=()=>{const n=a,o=A,e=h;C(),(n!==a||o!==A||e!==h)&&(t.resizeCanvas(A,h),w(),m=!1,window._animationFired=!1,t.redraw())},t.draw=()=>{if(!I||!P)return;t.clear(),t.background(0,0),t.stroke(255),t.noFill(),t.strokeWeight(1);const n=Math.min(t.frameCount/90,1),o=B(n);if(m=n>=1,T.forEach(e=>{const i=Math.floor(e.length*o);t.beginShape();for(let r=0;r<i;r++){const[f,_]=e[r];t.vertex(f,_)}t.endShape(i===e.length?t.CLOSE:void 0)}),m){window._animationFired||(window.dispatchEvent(new Event("animationComplete")),window._animationFired=!0);const e=t.canvas.getContext("2d",{willReadFrequently:!0});e.fillStyle="#fff",e.beginPath(),T.forEach(i=>{i.length&&(e.moveTo(...i[0]),i.forEach(([r,f])=>e.lineTo(r,f)),e.closePath())}),e.fill("evenodd")}}};new W(k,document.getElementById("p5-container"));
