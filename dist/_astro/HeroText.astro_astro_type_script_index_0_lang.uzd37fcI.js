import{q as W}from"./q5.D7LOjN6u.js";import{o as k}from"./opentype.qeRK-I_j.js";import{g as O}from"./g.CclMkshr.js";import"./vendor.C9EnSlNY.js";window.addEventListener("animationComplete",()=>{const t=document.getElementById("subtitle");t&&(t.style.opacity="1")});const G=t=>{const l="+Jakarta Sans",v=n=>1-Math.pow(1-n,3);let d,T=[],m=!1,w=!1,P=!1,a,A,f;const B=-8,H=10,L=-20,I=()=>{const n=window.innerWidth>=1024;a=n?150:120,A=n?930:730,f=n?150:120},C=()=>{if(!d)return;const n=a/150,o=B*n,e=H*n,c=L*n;let r=0;for(let s=0;s<l.length;s++){const i=l[s];if(r+=d.getAdvanceWidth(i,a),s<l.length-1){const S=i==="r"&&l[s+1]==="t"?o+e:o;r+=S}}const h=f/2+d.ascender/d.unitsPerEm*a/2-a*.1;let E=(A-r)/2,p=h;const g=[];for(let s=0;s<l.length;s++){const i=l[s],S=i==="+"?p+c:p,_=d.getPath(i,E,S,a);let u=[];_.commands.forEach(N=>{N.type==="M"&&u.length>0&&(g.push(u),u=[]),u.push(N)}),g.push(u);const y=d.getAdvanceWidth(i,a),F=i==="r"&&l[s+1]==="t"?o+e:o;E+=y+F}T=g.map(s=>{const i=new O.Path(s);return O.resampleByLength(i,1).commands.map(_=>[_.x,_.y])})};t.setup=async()=>{t.noLoop(),I();const n=t.createCanvas(A,f);n.style.backgroundColor="transparent",t.background(0,0);try{const o=await fetch("/plus-jakarta-site-redesign/fonts/otf/PlusJakartaSans-Bold.otf").then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.arrayBuffer()});d=k.parse(o),w=!0,C(),P=!0,t.loop()}catch(o){console.error("Failed to initialize sketch:",o)}},t.windowResized=()=>{const n=a,o=A,e=f;I(),(n!==a||o!==A||e!==f)&&(t.resizeCanvas(A,f),C(),m=!1,window._animationFired=!1,t.redraw())},t.draw=()=>{if(!P||!w)return;t.clear(),t.background(0,0),t.stroke(255),t.noFill(),t.strokeWeight(1.5);const n=Math.min(t.frameCount/90,1),o=v(n);if(m=n>=1,T.forEach(e=>{const c=Math.floor(e.length*o);t.beginShape();for(let r=0;r<c;r++){const[h,E]=e[r];t.vertex(h,E)}t.endShape(c===e.length?t.CLOSE:void 0)}),m){window._animationFired||(window.dispatchEvent(new Event("animationComplete")),window._animationFired=!0);const e=t.canvas.getContext("2d",{willReadFrequently:!0});e.fillStyle="#fff",e.beginPath(),T.forEach(c=>{c.length&&(e.moveTo(...c[0]),c.forEach(([r,h])=>e.lineTo(r,h)),e.closePath())}),e.fill("evenodd")}}};new W(G,document.getElementById("p5-container"));window.addEventListener("scroll",()=>{const t=document.querySelector("nav");t&&(window.scrollY>0?(t.classList.remove("hidden"),t.classList.add("flex")):(t.classList.remove("flex"),t.classList.add("hidden")))});
